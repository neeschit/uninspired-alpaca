import test from "ava";
import { analyzeClosedPositions, getDetailedPerformanceReport } from "./performance";
import perfReport from "../fixtures/perfReport";
import { FilledPositionConfig } from "../resources/position";
import {
    PositionDirection,
    TradeDirection,
    OrderStatus,
    TradeType,
    TimeInForce,
} from "@neeschit/alpaca-trade-api";

test("assess performance at a deeper level", (t) => {
    const insight = getDetailedPerformanceReport(perfReport);

    t.is(1, insight.monthly.length);

    t.is(2, insight.monthly[0].dailyPerformances.length);
});

test("assess perf for real report with days", (t) => {
    const positions: FilledPositionConfig[] = ([
        {
            symbol: "AMT",
            originalQuantity: 82,
            plannedEntryPrice: 256.17749999999995,
            plannedStopPrice: 257.57,
            plannedQuantity: 82,
            side: "short",
            quantity: 0,
            id: 6,
            averageEntryPrice: 256.16749999999996,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "AMT",
                    quantity: 82,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 256.17749999999995,
                    price: 256.05749999999995,
                    t: 1596548100000,
                    estString: "2020-08-04 09:35:00",
                    filledQuantity: 82,
                    averagePrice: 256.16749999999996,
                    status: "filled",
                },
                {
                    symbol: "AMT",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 82,
                    t: 1596548400000,
                    estString: "2020-08-04 09:40:00",
                    filledQuantity: 82,
                    status: "filled",
                    averagePrice: 257.84,
                },
            ],
        },
        {
            symbol: "GOOG",
            originalQuantity: 11,
            plannedEntryPrice: 1484.6480833333333,
            plannedStopPrice: 1474.09,
            plannedQuantity: 11,
            side: "long",
            quantity: 0,
            id: 8,
            averageEntryPrice: 1484.6580833333333,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "GOOG",
                    quantity: 11,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 1484.6480833333333,
                    price: 1485.6280833333333,
                    t: 1596548100000,
                    estString: "2020-08-04 09:35:00",
                    filledQuantity: 11,
                    averagePrice: 1484.6580833333333,
                    status: "filled",
                },
                {
                    symbol: "GOOG",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 11,
                    t: 1596550380000,
                    estString: "2020-08-04 10:13:00",
                    filledQuantity: 11,
                    status: "filled",
                    averagePrice: 1474.01,
                },
            ],
        },
        {
            symbol: "AMT",
            originalQuantity: 77,
            plannedEntryPrice: 257.61833333333334,
            plannedStopPrice: 256.3183333333333,
            plannedQuantity: 77,
            side: "long",
            quantity: 0,
            id: 32,
            averageEntryPrice: 257.62833333333333,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "AMT",
                    quantity: 77,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 257.61833333333334,
                    price: 257.74833333333333,
                    t: 1596548460000,
                    estString: "2020-08-04 09:41:00",
                    filledQuantity: 77,
                    averagePrice: 257.62833333333333,
                    status: "filled",
                },
                {
                    symbol: "AMT",
                    price: 261.44,
                    type: "limit",
                    side: "sell",
                    tif: "gtc",
                    quantity: 77,
                    t: 1596553800000,
                    estString: "2020-08-04 11:10:00",
                    filledQuantity: 77,
                    status: "filled",
                    averagePrice: 261.44,
                },
            ],
        },
        {
            symbol: "PYPL",
            originalQuantity: 79,
            plannedEntryPrice: 197.60666666666665,
            plannedStopPrice: 196.32666666666665,
            plannedQuantity: 79,
            side: "long",
            quantity: 0,
            id: 72,
            averageEntryPrice: 197.61666666666665,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "PYPL",
                    quantity: 79,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 197.60666666666665,
                    price: 197.73666666666665,
                    t: 1596548100000,
                    estString: "2020-08-04 09:35:00",
                    filledQuantity: 79,
                    averagePrice: 197.61666666666665,
                    status: "filled",
                },
                {
                    symbol: "PYPL",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 79,
                    t: 1596565080000,
                    estString: "2020-08-04 02:18:00",
                    filledQuantity: 79,
                    status: "filled",
                    averagePrice: 196.31,
                },
            ],
        },
        {
            symbol: "CAT",
            originalQuantity: 94,
            plannedEntryPrice: 131.28083333333333,
            plannedStopPrice: 132.35083333333333,
            plannedQuantity: 94,
            side: "short",
            quantity: 0,
            id: 97,
            averageEntryPrice: 131.27083333333334,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "CAT",
                    quantity: 94,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 131.28083333333333,
                    price: 131.17083333333332,
                    t: 1596548100000,
                    estString: "2020-08-04 09:35:00",
                    filledQuantity: 94,
                    averagePrice: 131.27083333333334,
                    status: "filled",
                },
                {
                    side: "buy",
                    quantity: 94,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "CAT",
                    t: 1596570660000,
                    estString: "2020-08-04 03:51:00",
                    filledQuantity: 94,
                    status: "filled",
                    averagePrice: 131.03,
                },
            ],
        },
        {
            symbol: "ANTM",
            originalQuantity: 72,
            plannedEntryPrice: 271.3942222222222,
            plannedStopPrice: 273.08,
            plannedQuantity: 72,
            side: "short",
            quantity: 0,
            id: 121,
            averageEntryPrice: 271.3842222222222,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "ANTM",
                    quantity: 72,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 271.3942222222222,
                    price: 271.2542222222222,
                    t: 1596634740000,
                    estString: "2020-08-05 09:39:00",
                    filledQuantity: 72,
                    averagePrice: 271.3842222222222,
                    status: "filled",
                },
                {
                    symbol: "ANTM",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 72,
                    t: 1596636360000,
                    estString: "2020-08-05 10:06:00",
                    filledQuantity: 72,
                    status: "filled",
                    averagePrice: 273.25,
                },
            ],
        },
        {
            symbol: "SHOP",
            originalQuantity: 9,
            plannedEntryPrice: 1083.4025000000001,
            plannedStopPrice: 1070.4,
            plannedQuantity: 9,
            side: "long",
            quantity: 0,
            id: 109,
            averageEntryPrice: 1083.4125000000001,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "SHOP",
                    quantity: 9,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 1083.4025000000001,
                    price: 1084.6325000000002,
                    t: 1596634500000,
                    estString: "2020-08-05 09:35:00",
                    filledQuantity: 9,
                    averagePrice: 1083.4125000000001,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 9,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "SHOP",
                    t: 1596657060000,
                    estString: "2020-08-05 03:51:00",
                    filledQuantity: 9,
                    status: "filled",
                    averagePrice: 1091.935,
                },
            ],
        },
        {
            symbol: "JPM",
            originalQuantity: 83,
            plannedEntryPrice: 97.04090833333333,
            plannedStopPrice: 95.82160833333333,
            plannedQuantity: 83,
            side: "long",
            quantity: 0,
            id: 116,
            averageEntryPrice: 97.05090833333334,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "JPM",
                    quantity: 83,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 97.04090833333333,
                    price: 97.16090833333334,
                    t: 1596634500000,
                    estString: "2020-08-05 09:35:00",
                    filledQuantity: 83,
                    averagePrice: 97.05090833333334,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 83,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "JPM",
                    t: 1596657060000,
                    estString: "2020-08-05 03:51:00",
                    filledQuantity: 83,
                    status: "filled",
                    averagePrice: 97.3,
                },
            ],
        },
        {
            symbol: "GOOG",
            originalQuantity: 18,
            plannedEntryPrice: 1469.7866666666666,
            plannedStopPrice: 1463.11,
            plannedQuantity: 18,
            side: "long",
            quantity: 0,
            id: 129,
            averageEntryPrice: 1469.7966666666666,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "GOOG",
                    quantity: 18,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 1469.7866666666666,
                    price: 1470.3666666666666,
                    t: 1596634500000,
                    estString: "2020-08-05 09:35:00",
                    filledQuantity: 18,
                    averagePrice: 1469.7966666666666,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 18,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "GOOG",
                    t: 1596657060000,
                    estString: "2020-08-05 03:51:00",
                    filledQuantity: 18,
                    status: "filled",
                    averagePrice: 1469.085,
                },
            ],
        },
        {
            symbol: "BDX",
            originalQuantity: 40,
            plannedEntryPrice: 283.0625,
            plannedStopPrice: 280.45,
            plannedQuantity: 40,
            side: "long",
            quantity: 0,
            id: 143,
            averageEntryPrice: 283.0725,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "BDX",
                    quantity: 40,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 283.0625,
                    price: 283.3225,
                    t: 1596634500000,
                    estString: "2020-08-05 09:35:00",
                    filledQuantity: 40,
                    averagePrice: 283.0725,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 40,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "BDX",
                    t: 1596657060000,
                    estString: "2020-08-05 03:51:00",
                    filledQuantity: 40,
                    status: "filled",
                    averagePrice: 283.64,
                },
            ],
        },
        {
            symbol: "QCOM",
            originalQuantity: 200,
            plannedEntryPrice: 110.77999999999999,
            plannedStopPrice: 111.27999999999999,
            plannedQuantity: 200,
            side: "short",
            quantity: 0,
            id: 188,
            averageEntryPrice: 110.76999999999998,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "QCOM",
                    quantity: 200,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 110.77999999999999,
                    price: 110.72999999999999,
                    t: 1596720900000,
                    estString: "2020-08-06 09:35:00",
                    filledQuantity: 200,
                    averagePrice: 110.76999999999998,
                    status: "filled",
                },
                {
                    symbol: "QCOM",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 200,
                    t: 1596721500000,
                    estString: "2020-08-06 09:45:00",
                    filledQuantity: 200,
                    status: "filled",
                    averagePrice: 111.3146,
                },
            ],
        },
        {
            symbol: "CRM",
            originalQuantity: 100,
            plannedEntryPrice: 202.79112444444445,
            plannedStopPrice: 203.79112444444445,
            plannedQuantity: 100,
            side: "short",
            quantity: 0,
            id: 177,
            averageEntryPrice: 202.78112444444446,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "CRM",
                    quantity: 100,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 202.79112444444445,
                    price: 202.72112444444446,
                    t: 1596721020000,
                    estString: "2020-08-06 09:37:00",
                    filledQuantity: 100,
                    averagePrice: 202.78112444444446,
                    status: "filled",
                },
                {
                    symbol: "CRM",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 100,
                    t: 1596722220000,
                    estString: "2020-08-06 09:57:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 203.85,
                },
            ],
        },
        {
            symbol: "AAPL",
            originalQuantity: 41,
            plannedEntryPrice: 441.04583333333335,
            plannedStopPrice: 443.63,
            plannedQuantity: 41,
            side: "short",
            quantity: 0,
            id: 171,
            averageEntryPrice: 441.03583333333336,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "AAPL",
                    quantity: 41,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 441.04583333333335,
                    price: 440.80583333333334,
                    t: 1596720900000,
                    estString: "2020-08-06 09:35:00",
                    filledQuantity: 41,
                    averagePrice: 441.03583333333336,
                    status: "filled",
                },
                {
                    symbol: "AAPL",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 41,
                    t: 1596722280000,
                    estString: "2020-08-06 09:58:00",
                    filledQuantity: 41,
                    status: "filled",
                    averagePrice: 443.9,
                },
            ],
        },
        {
            symbol: "GOOG",
            originalQuantity: 22,
            plannedEntryPrice: 1468.6225,
            plannedStopPrice: 1473.86,
            plannedQuantity: 22,
            side: "short",
            quantity: 0,
            id: 165,
            averageEntryPrice: 1468.6125,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "GOOG",
                    quantity: 22,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 1468.6225,
                    price: 1468.1725,
                    t: 1596720900000,
                    estString: "2020-08-06 09:35:00",
                    filledQuantity: 22,
                    averagePrice: 1468.6125,
                    status: "filled",
                },
                {
                    symbol: "GOOG",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 22,
                    t: 1596722520000,
                    estString: "2020-08-06 10:02:00",
                    filledQuantity: 22,
                    status: "filled",
                    averagePrice: 1474.64,
                },
            ],
        },
        {
            symbol: "MSFT",
            originalQuantity: 100,
            plannedEntryPrice: 211.8575,
            plannedStopPrice: 213.06,
            plannedQuantity: 100,
            side: "short",
            quantity: 0,
            id: 197,
            averageEntryPrice: 211.8475,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MSFT",
                    quantity: 100,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 211.8575,
                    price: 211.7575,
                    t: 1596720900000,
                    estString: "2020-08-06 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 211.8475,
                    status: "filled",
                },
                {
                    symbol: "MSFT",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 100,
                    t: 1596722880000,
                    estString: "2020-08-06 10:08:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 213.21,
                },
            ],
        },
        {
            symbol: "FB",
            originalQuantity: 94,
            plannedEntryPrice: 249.82958333333335,
            plannedStopPrice: 248.75458333333333,
            plannedQuantity: 94,
            side: "long",
            quantity: 0,
            id: 172,
            averageEntryPrice: 249.83958333333334,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "FB",
                    quantity: 94,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 249.82958333333335,
                    price: 249.93958333333336,
                    t: 1596720900000,
                    estString: "2020-08-06 09:35:00",
                    filledQuantity: 94,
                    averagePrice: 249.83958333333334,
                    status: "filled",
                },
                {
                    symbol: "FB",
                    price: 252.94,
                    type: "limit",
                    side: "sell",
                    tif: "gtc",
                    quantity: 94,
                    t: 1596723180000,
                    estString: "2020-08-06 10:13:00",
                    filledQuantity: 94,
                    status: "filled",
                    averagePrice: 252.94,
                },
            ],
        },
        {
            symbol: "TSLA",
            originalQuantity: 5,
            plannedEntryPrice: 1483.5416666666667,
            plannedStopPrice: 1508.39,
            plannedQuantity: 5,
            side: "short",
            quantity: 0,
            id: 198,
            averageEntryPrice: 1483.5316666666668,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "TSLA",
                    quantity: 5,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 1483.5416666666667,
                    price: 1481.1916666666668,
                    t: 1596720900000,
                    estString: "2020-08-06 09:35:00",
                    filledQuantity: 5,
                    averagePrice: 1483.5316666666668,
                    status: "filled",
                },
                {
                    symbol: "TSLA",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 5,
                    t: 1596740160000,
                    estString: "2020-08-06 02:56:00",
                    filledQuantity: 5,
                    status: "filled",
                    averagePrice: 1513.98,
                },
            ],
        },
        {
            symbol: "NOW",
            originalQuantity: 25,
            plannedEntryPrice: 434.8892544444445,
            plannedStopPrice: 439.13,
            plannedQuantity: 25,
            side: "short",
            quantity: 0,
            id: 170,
            averageEntryPrice: 434.8792544444445,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "NOW",
                    quantity: 25,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 434.8892544444445,
                    price: 434.47925444444445,
                    t: 1596720960000,
                    estString: "2020-08-06 09:36:00",
                    filledQuantity: 25,
                    averagePrice: 434.8792544444445,
                    status: "filled",
                },
                {
                    side: "buy",
                    quantity: 25,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "NOW",
                    t: 1596743460000,
                    estString: "2020-08-06 03:51:00",
                    filledQuantity: 25,
                    status: "filled",
                    averagePrice: 428.66,
                },
            ],
        },
        {
            symbol: "SHOP",
            originalQuantity: 9,
            plannedEntryPrice: 1087.2832616666667,
            plannedStopPrice: 1099.56,
            plannedQuantity: 9,
            side: "short",
            quantity: 0,
            id: 190,
            averageEntryPrice: 1087.2732616666667,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "SHOP",
                    quantity: 9,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 1087.2832616666667,
                    price: 1086.1232616666666,
                    t: 1596721200000,
                    estString: "2020-08-06 09:40:00",
                    filledQuantity: 9,
                    averagePrice: 1087.2732616666667,
                    status: "filled",
                },
                {
                    side: "buy",
                    quantity: 9,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "SHOP",
                    t: 1596743460000,
                    estString: "2020-08-06 03:51:00",
                    filledQuantity: 9,
                    status: "filled",
                    averagePrice: 1088,
                },
            ],
        },
        {
            symbol: "MDLZ",
            originalQuantity: 209,
            plannedEntryPrice: 54.92,
            plannedStopPrice: 54.44,
            plannedQuantity: 209,
            side: "long",
            quantity: 0,
            id: 194,
            averageEntryPrice: 54.93,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MDLZ",
                    quantity: 209,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 54.92,
                    price: 54.97,
                    t: 1596720900000,
                    estString: "2020-08-06 09:35:00",
                    filledQuantity: 209,
                    averagePrice: 54.93,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 209,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "MDLZ",
                    t: 1596743460000,
                    estString: "2020-08-06 03:51:00",
                    filledQuantity: 209,
                    status: "filled",
                    averagePrice: 55.5,
                },
            ],
        },
        {
            symbol: "MA",
            originalQuantity: 57,
            plannedEntryPrice: 326.36375,
            plannedStopPrice: 328.11875,
            plannedQuantity: 57,
            side: "short",
            quantity: 0,
            id: 208,
            averageEntryPrice: 326.35375,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MA",
                    quantity: 57,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 326.36375,
                    price: 326.18375,
                    t: 1596807300000,
                    estString: "2020-08-07 09:35:00",
                    filledQuantity: 57,
                    averagePrice: 326.35375,
                    status: "filled",
                },
                {
                    symbol: "MA",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 57,
                    t: 1596807840000,
                    estString: "2020-08-07 09:44:00",
                    filledQuantity: 57,
                    status: "filled",
                    averagePrice: 328.3,
                },
            ],
        },
        {
            symbol: "SHOP",
            originalQuantity: 11,
            plannedEntryPrice: 1075.715,
            plannedStopPrice: 1086.03,
            plannedQuantity: 11,
            side: "short",
            quantity: 0,
            id: 227,
            averageEntryPrice: 1075.705,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "SHOP",
                    quantity: 11,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 1075.715,
                    price: 1074.7749999999999,
                    t: 1596807300000,
                    estString: "2020-08-07 09:35:00",
                    filledQuantity: 11,
                    averagePrice: 1075.705,
                    status: "filled",
                },
                {
                    symbol: "SHOP",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 11,
                    t: 1596812040000,
                    estString: "2020-08-07 10:54:00",
                    filledQuantity: 11,
                    status: "filled",
                    averagePrice: 1087.15,
                },
            ],
        },
        {
            symbol: "TSLA",
            originalQuantity: 9,
            plannedEntryPrice: 1486.8908333333334,
            plannedStopPrice: 1499.82,
            plannedQuantity: 9,
            side: "short",
            quantity: 0,
            id: 217,
            averageEntryPrice: 1486.8808333333334,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "TSLA",
                    quantity: 9,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 1486.8908333333334,
                    price: 1485.7008333333333,
                    t: 1596807300000,
                    estString: "2020-08-07 09:35:00",
                    filledQuantity: 9,
                    averagePrice: 1486.8808333333334,
                    status: "filled",
                },
                {
                    symbol: "TSLA",
                    price: 1448.5,
                    type: "limit",
                    side: "buy",
                    tif: "gtc",
                    quantity: 9,
                    t: 1596815760000,
                    estString: "2020-08-07 11:56:00",
                    filledQuantity: 9,
                    status: "filled",
                    averagePrice: 1448.5,
                },
            ],
        },
        {
            symbol: "MMM",
            originalQuantity: 100,
            plannedEntryPrice: 155.77249999999998,
            plannedStopPrice: 156.77249999999998,
            plannedQuantity: 100,
            side: "short",
            quantity: 0,
            id: 219,
            averageEntryPrice: 155.7625,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MMM",
                    quantity: 100,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 155.77249999999998,
                    price: 155.71249999999998,
                    t: 1596807300000,
                    estString: "2020-08-07 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 155.7625,
                    status: "filled",
                },
                {
                    symbol: "MMM",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 100,
                    t: 1596819180000,
                    estString: "2020-08-07 12:53:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 156.82,
                },
            ],
        },
        {
            symbol: "AMGN",
            originalQuantity: 41,
            plannedEntryPrice: 240.97125,
            plannedStopPrice: 243.55,
            plannedQuantity: 41,
            side: "short",
            quantity: 0,
            id: 206,
            averageEntryPrice: 240.96125,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "AMGN",
                    quantity: 41,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 240.97125,
                    price: 240.73125,
                    t: 1596807300000,
                    estString: "2020-08-07 09:35:00",
                    filledQuantity: 41,
                    averagePrice: 240.96125,
                    status: "filled",
                },
                {
                    side: "buy",
                    quantity: 41,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "AMGN",
                    t: 1596829860000,
                    estString: "2020-08-07 03:51:00",
                    filledQuantity: 41,
                    status: "filled",
                    averagePrice: 240.17,
                },
            ],
        },
        {
            symbol: "GILD",
            originalQuantity: 254,
            plannedEntryPrice: 68.80711111111111,
            plannedStopPrice: 69.20177777777778,
            plannedQuantity: 254,
            side: "short",
            quantity: 0,
            id: 286,
            averageEntryPrice: 68.79711111111111,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "GILD",
                    quantity: 254,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 68.80711111111111,
                    price: 68.7671111111111,
                    t: 1597066560000,
                    estString: "2020-08-10 09:36:00",
                    filledQuantity: 254,
                    averagePrice: 68.79711111111111,
                    status: "filled",
                },
                {
                    side: "buy",
                    quantity: 254,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "GILD",
                    t: 1597089060000,
                    estString: "2020-08-10 03:51:00",
                    filledQuantity: 254,
                    status: "filled",
                    averagePrice: 68.29,
                },
            ],
        },
        {
            symbol: "AMT",
            originalQuantity: 49,
            plannedEntryPrice: 255.47833333333335,
            plannedStopPrice: 257.5383333333333,
            plannedQuantity: 49,
            side: "short",
            quantity: 0,
            id: 293,
            averageEntryPrice: 255.46833333333336,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "AMT",
                    quantity: 49,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 255.47833333333335,
                    price: 255.26833333333335,
                    t: 1597066500000,
                    estString: "2020-08-10 09:35:00",
                    filledQuantity: 49,
                    averagePrice: 255.46833333333336,
                    status: "filled",
                },
                {
                    side: "buy",
                    quantity: 49,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "AMT",
                    t: 1597089060000,
                    estString: "2020-08-10 03:51:00",
                    filledQuantity: 49,
                    status: "filled",
                    averagePrice: 252.4,
                },
            ],
        },
        {
            symbol: "COST",
            originalQuantity: 63,
            plannedEntryPrice: 339.10583333333335,
            plannedStopPrice: 340.71583333333336,
            plannedQuantity: 63,
            side: "short",
            quantity: 0,
            id: 296,
            averageEntryPrice: 339.09583333333336,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "COST",
                    quantity: 63,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 339.10583333333335,
                    price: 338.9458333333333,
                    t: 1597152900000,
                    estString: "2020-08-11 09:35:00",
                    filledQuantity: 63,
                    averagePrice: 339.09583333333336,
                    status: "filled",
                },
                {
                    symbol: "COST",
                    price: 334.65,
                    type: "limit",
                    side: "buy",
                    tif: "gtc",
                    quantity: 63,
                    t: 1597154520000,
                    estString: "2020-08-11 10:02:00",
                    filledQuantity: 63,
                    status: "filled",
                    averagePrice: 334.65,
                },
            ],
        },
        {
            symbol: "BABA",
            originalQuantity: 82,
            plannedEntryPrice: 250.58249999999998,
            plannedStopPrice: 249.3525,
            plannedQuantity: 82,
            side: "long",
            quantity: 0,
            id: 298,
            averageEntryPrice: 250.59249999999997,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "BABA",
                    quantity: 82,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 250.58249999999998,
                    price: 250.7025,
                    t: 1597239300000,
                    estString: "2020-08-12 09:35:00",
                    filledQuantity: 82,
                    averagePrice: 250.59249999999997,
                    status: "filled",
                },
                {
                    symbol: "BABA",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 82,
                    t: 1597239660000,
                    estString: "2020-08-12 09:41:00",
                    filledQuantity: 82,
                    status: "filled",
                    averagePrice: 249.1,
                },
            ],
        },
        {
            symbol: "BABA",
            originalQuantity: 79,
            plannedEntryPrice: 249.14404814814816,
            plannedStopPrice: 250.57,
            plannedQuantity: 79,
            side: "short",
            quantity: 0,
            id: 301,
            averageEntryPrice: 249.13404814814817,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "BABA",
                    quantity: 79,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 249.14404814814816,
                    price: 249.01404814814816,
                    t: 1597239720000,
                    estString: "2020-08-12 09:42:00",
                    filledQuantity: 79,
                    averagePrice: 249.13404814814817,
                    status: "filled",
                },
                {
                    symbol: "BABA",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 79,
                    t: 1597243560000,
                    estString: "2020-08-12 10:46:00",
                    filledQuantity: 79,
                    status: "filled",
                    averagePrice: 250.9,
                },
            ],
        },
        {
            symbol: "DIS",
            originalQuantity: 105,
            plannedEntryPrice: 131.57000000000002,
            plannedStopPrice: 130.46,
            plannedQuantity: 105,
            side: "long",
            quantity: 0,
            id: 304,
            averageEntryPrice: 131.58,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "DIS",
                    quantity: 105,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 131.57000000000002,
                    price: 131.67000000000002,
                    t: 1597325700000,
                    estString: "2020-08-13 09:35:00",
                    filledQuantity: 105,
                    averagePrice: 131.58,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 105,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "DIS",
                    t: 1597348260000,
                    estString: "2020-08-13 03:51:00",
                    filledQuantity: 105,
                    status: "filled",
                    averagePrice: 131.1699,
                },
            ],
        },
        {
            symbol: "MA",
            originalQuantity: 52,
            plannedEntryPrice: 327.743025,
            plannedStopPrice: 325.786725,
            plannedQuantity: 52,
            side: "long",
            quantity: 0,
            id: 306,
            averageEntryPrice: 327.753025,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MA",
                    quantity: 52,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 327.743025,
                    price: 327.943025,
                    t: 1597325700000,
                    estString: "2020-08-13 09:35:00",
                    filledQuantity: 52,
                    averagePrice: 327.753025,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 52,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "MA",
                    t: 1597348260000,
                    estString: "2020-08-13 03:51:00",
                    filledQuantity: 52,
                    status: "filled",
                    averagePrice: 327.2672,
                },
            ],
        },
        {
            symbol: "HD",
            originalQuantity: 76,
            plannedEntryPrice: 281.84000000000003,
            plannedStopPrice: 280.45,
            plannedQuantity: 76,
            side: "long",
            quantity: 0,
            id: 342,
            averageEntryPrice: 281.85,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "HD",
                    quantity: 76,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 281.84000000000003,
                    price: 281.97,
                    t: 1597412100000,
                    estString: "2020-08-14 09:35:00",
                    filledQuantity: 76,
                    averagePrice: 281.85,
                    status: "filled",
                },
                {
                    symbol: "HD",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 76,
                    t: 1597412880000,
                    estString: "2020-08-14 09:48:00",
                    filledQuantity: 76,
                    status: "filled",
                    averagePrice: 280.28,
                },
            ],
        },
        {
            symbol: "FB",
            originalQuantity: 75,
            plannedEntryPrice: 262.5516666666667,
            plannedStopPrice: 260.91,
            plannedQuantity: 75,
            side: "long",
            quantity: 0,
            id: 331,
            averageEntryPrice: 262.56166666666667,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "FB",
                    quantity: 75,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 262.5516666666667,
                    price: 262.6816666666667,
                    t: 1597412100000,
                    estString: "2020-08-14 09:35:00",
                    filledQuantity: 75,
                    averagePrice: 262.56166666666667,
                    status: "filled",
                },
                {
                    symbol: "FB",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 75,
                    t: 1597412940000,
                    estString: "2020-08-14 09:49:00",
                    filledQuantity: 75,
                    status: "filled",
                    averagePrice: 260.82,
                },
            ],
        },
        {
            symbol: "MA",
            originalQuantity: 100,
            plannedEntryPrice: 326.06793407407406,
            plannedStopPrice: 324.93,
            plannedQuantity: 100,
            side: "long",
            quantity: 0,
            id: 380,
            averageEntryPrice: 326.07793407407405,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MA",
                    quantity: 100,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 326.06793407407406,
                    price: 326.14793407407404,
                    t: 1597412700000,
                    estString: "2020-08-14 09:45:00",
                    filledQuantity: 100,
                    averagePrice: 326.07793407407405,
                    status: "filled",
                },
                {
                    symbol: "MA",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 100,
                    t: 1597413000000,
                    estString: "2020-08-14 09:50:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 324.81,
                },
            ],
        },
        {
            symbol: "CVS",
            originalQuantity: 304,
            plannedEntryPrice: 64.4475,
            plannedStopPrice: 64.1175,
            plannedQuantity: 304,
            side: "long",
            quantity: 0,
            id: 340,
            averageEntryPrice: 64.45750000000001,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "CVS",
                    quantity: 304,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 64.4475,
                    price: 64.4775,
                    t: 1597412100000,
                    estString: "2020-08-14 09:35:00",
                    filledQuantity: 304,
                    averagePrice: 64.45750000000001,
                    status: "filled",
                },
                {
                    symbol: "CVS",
                    price: 65.44,
                    type: "limit",
                    side: "sell",
                    tif: "gtc",
                    quantity: 304,
                    t: 1597414740000,
                    estString: "2020-08-14 10:19:00",
                    filledQuantity: 304,
                    status: "filled",
                    averagePrice: 65.44,
                },
            ],
        },
        {
            symbol: "JPM",
            originalQuantity: 199,
            plannedEntryPrice: 101.96708333333333,
            plannedStopPrice: 101.46208333333334,
            plannedQuantity: 199,
            side: "long",
            quantity: 0,
            id: 358,
            averageEntryPrice: 101.97708333333334,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "JPM",
                    quantity: 199,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 101.96708333333333,
                    price: 102.01708333333333,
                    t: 1597412100000,
                    estString: "2020-08-14 09:35:00",
                    filledQuantity: 199,
                    averagePrice: 101.97708333333334,
                    status: "filled",
                },
                {
                    symbol: "JPM",
                    price: 103.44,
                    type: "limit",
                    side: "sell",
                    tif: "gtc",
                    quantity: 199,
                    t: 1597417680000,
                    estString: "2020-08-14 11:08:00",
                    filledQuantity: 199,
                    status: "filled",
                    averagePrice: 103.44,
                },
            ],
        },
        {
            symbol: "WYNN",
            originalQuantity: 84,
            plannedEntryPrice: 84.61018333333332,
            plannedStopPrice: 85.80798333333333,
            plannedQuantity: 84,
            side: "short",
            quantity: 0,
            id: 354,
            averageEntryPrice: 84.60018333333332,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "WYNN",
                    quantity: 84,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 84.61018333333332,
                    price: 84.49018333333332,
                    t: 1597412100000,
                    estString: "2020-08-14 09:35:00",
                    filledQuantity: 84,
                    averagePrice: 84.60018333333332,
                    status: "filled",
                },
                {
                    symbol: "WYNN",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 84,
                    t: 1597425840000,
                    estString: "2020-08-14 01:24:00",
                    filledQuantity: 84,
                    status: "filled",
                    averagePrice: 85.82,
                },
            ],
        },
        {
            symbol: "AMT",
            originalQuantity: 100,
            plannedEntryPrice: 251.18300000000002,
            plannedStopPrice: 250.18300000000002,
            plannedQuantity: 100,
            side: "long",
            quantity: 0,
            id: 338,
            averageEntryPrice: 251.193,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "AMT",
                    quantity: 100,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 251.18300000000002,
                    price: 251.26300000000003,
                    t: 1597412160000,
                    estString: "2020-08-14 09:36:00",
                    filledQuantity: 100,
                    averagePrice: 251.193,
                    status: "filled",
                },
                {
                    symbol: "AMT",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 100,
                    t: 1597431240000,
                    estString: "2020-08-14 02:54:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 250.06,
                },
            ],
        },
        {
            symbol: "MDLZ",
            originalQuantity: 334,
            plannedEntryPrice: 56.11916666666667,
            plannedStopPrice: 55.819166666666675,
            plannedQuantity: 334,
            side: "long",
            quantity: 0,
            id: 352,
            averageEntryPrice: 56.12916666666667,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MDLZ",
                    quantity: 334,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 56.11916666666667,
                    price: 56.139166666666675,
                    t: 1597412100000,
                    estString: "2020-08-14 09:35:00",
                    filledQuantity: 334,
                    averagePrice: 56.12916666666667,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 334,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "MDLZ",
                    t: 1597434660000,
                    estString: "2020-08-14 03:51:00",
                    filledQuantity: 334,
                    status: "filled",
                    averagePrice: 55.97,
                },
            ],
        },
        {
            symbol: "BABA",
            originalQuantity: 54,
            plannedEntryPrice: 253.475,
            plannedStopPrice: 255.57,
            plannedQuantity: 54,
            side: "short",
            quantity: 0,
            id: 437,
            averageEntryPrice: 253.465,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "BABA",
                    quantity: 54,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 253.475,
                    price: 253.285,
                    t: 1597412100000,
                    estString: "2020-08-14 09:35:00",
                    filledQuantity: 54,
                    averagePrice: 253.465,
                    status: "filled",
                },
                {
                    side: "buy",
                    quantity: 54,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "BABA",
                    t: 1597434660000,
                    estString: "2020-08-14 03:51:00",
                    filledQuantity: 54,
                    status: "filled",
                    averagePrice: 252.8,
                },
            ],
        },
        {
            symbol: "BDX",
            originalQuantity: 100,
            plannedEntryPrice: 258.5266666666667,
            plannedStopPrice: 259.5266666666667,
            plannedQuantity: 100,
            side: "short",
            quantity: 0,
            id: 457,
            averageEntryPrice: 258.5166666666667,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "BDX",
                    quantity: 100,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 258.5266666666667,
                    price: 258.4266666666667,
                    t: 1597671300000,
                    estString: "2020-08-17 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 258.5166666666667,
                    status: "filled",
                },
                {
                    symbol: "BDX",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 100,
                    t: 1597671900000,
                    estString: "2020-08-17 09:45:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 259.53,
                },
            ],
        },
        {
            symbol: "WYNN",
            originalQuantity: 182,
            plannedEntryPrice: 85.4225,
            plannedStopPrice: 84.8725,
            plannedQuantity: 182,
            side: "long",
            quantity: 0,
            id: 466,
            averageEntryPrice: 85.4325,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "WYNN",
                    quantity: 182,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 85.4225,
                    price: 85.4625,
                    t: 1597671300000,
                    estString: "2020-08-17 09:35:00",
                    filledQuantity: 182,
                    averagePrice: 85.4325,
                    status: "filled",
                },
                {
                    symbol: "WYNN",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 182,
                    t: 1597672140000,
                    estString: "2020-08-17 09:49:00",
                    filledQuantity: 182,
                    status: "filled",
                    averagePrice: 84.78,
                },
            ],
        },
        {
            symbol: "TSLA",
            originalQuantity: 4,
            plannedEntryPrice: 1709.650361111111,
            plannedStopPrice: 1676.62,
            plannedQuantity: 4,
            side: "long",
            quantity: 0,
            id: 477,
            averageEntryPrice: 1709.660361111111,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "TSLA",
                    quantity: 4,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 1709.650361111111,
                    price: 1712.840361111111,
                    t: 1597671420000,
                    estString: "2020-08-17 09:37:00",
                    filledQuantity: 4,
                    averagePrice: 1709.660361111111,
                    status: "filled",
                },
                {
                    symbol: "TSLA",
                    price: 1808,
                    type: "limit",
                    side: "sell",
                    tif: "gtc",
                    quantity: 4,
                    t: 1597675860000,
                    estString: "2020-08-17 10:51:00",
                    filledQuantity: 4,
                    status: "filled",
                    averagePrice: 1808,
                },
            ],
        },
        {
            symbol: "DIS",
            originalQuantity: 124,
            plannedEntryPrice: 129.2525,
            plannedStopPrice: 130.0625,
            plannedQuantity: 124,
            side: "short",
            quantity: 0,
            id: 482,
            averageEntryPrice: 129.2425,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "DIS",
                    quantity: 124,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 129.2525,
                    price: 129.17249999999999,
                    t: 1597671300000,
                    estString: "2020-08-17 09:35:00",
                    filledQuantity: 124,
                    averagePrice: 129.2425,
                    status: "filled",
                },
                {
                    symbol: "DIS",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 124,
                    t: 1597685040000,
                    estString: "2020-08-17 01:24:00",
                    filledQuantity: 124,
                    status: "filled",
                    averagePrice: 130.085,
                },
            ],
        },
        {
            symbol: "AMGN",
            originalQuantity: 58,
            plannedEntryPrice: 242.08416666666668,
            plannedStopPrice: 240.35416666666669,
            plannedQuantity: 58,
            side: "long",
            quantity: 0,
            id: 454,
            averageEntryPrice: 242.09416666666667,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "AMGN",
                    quantity: 58,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 242.08416666666668,
                    price: 242.25416666666666,
                    t: 1597671300000,
                    estString: "2020-08-17 09:35:00",
                    filledQuantity: 58,
                    averagePrice: 242.09416666666667,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 58,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "AMGN",
                    t: 1597693860000,
                    estString: "2020-08-17 03:51:00",
                    filledQuantity: 58,
                    status: "filled",
                    averagePrice: 243.27,
                },
            ],
        },
        {
            symbol: "MA",
            originalQuantity: 55,
            plannedEntryPrice: 328.66291666666666,
            plannedStopPrice: 326.8279166666667,
            plannedQuantity: 55,
            side: "long",
            quantity: 0,
            id: 475,
            averageEntryPrice: 328.67291666666665,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MA",
                    quantity: 55,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 328.66291666666666,
                    price: 328.84291666666667,
                    t: 1597671300000,
                    estString: "2020-08-17 09:35:00",
                    filledQuantity: 55,
                    averagePrice: 328.67291666666665,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 55,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "MA",
                    t: 1597693860000,
                    estString: "2020-08-17 03:51:00",
                    filledQuantity: 55,
                    status: "filled",
                    averagePrice: 331.23,
                },
            ],
        },
        {
            symbol: "AVGO",
            originalQuantity: 100,
            plannedEntryPrice: 330.0833333333333,
            plannedStopPrice: 328.93,
            plannedQuantity: 100,
            side: "long",
            quantity: 0,
            id: 478,
            averageEntryPrice: 330.0933333333333,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "AVGO",
                    quantity: 100,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 330.0833333333333,
                    price: 330.18333333333334,
                    t: 1597671300000,
                    estString: "2020-08-17 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 330.0933333333333,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 100,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "AVGO",
                    t: 1597693860000,
                    estString: "2020-08-17 03:51:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 330.67,
                },
            ],
        },
        {
            symbol: "BABA",
            originalQuantity: 31,
            plannedEntryPrice: 253.65458333333333,
            plannedStopPrice: 250.35958333333335,
            plannedQuantity: 31,
            side: "long",
            quantity: 0,
            id: 578,
            averageEntryPrice: 253.66458333333333,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "BABA",
                    quantity: 31,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 253.65458333333333,
                    price: 253.98458333333335,
                    t: 1597671300000,
                    estString: "2020-08-17 09:35:00",
                    filledQuantity: 31,
                    averagePrice: 253.66458333333333,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 31,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "BABA",
                    t: 1597693860000,
                    estString: "2020-08-17 03:51:00",
                    filledQuantity: 31,
                    status: "filled",
                    averagePrice: 256.6,
                },
            ],
        },
        {
            symbol: "MSFT",
            originalQuantity: 100,
            plannedEntryPrice: 210.23708333333335,
            plannedStopPrice: 209.23708333333335,
            plannedQuantity: 100,
            side: "long",
            quantity: 0,
            id: 620,
            averageEntryPrice: 210.24708333333334,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MSFT",
                    quantity: 100,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 210.23708333333335,
                    price: 210.30708333333334,
                    t: 1597671300000,
                    estString: "2020-08-17 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 210.24708333333334,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 100,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "MSFT",
                    t: 1597693860000,
                    estString: "2020-08-17 03:51:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 210.38,
                },
            ],
        },
        {
            symbol: "MSFT",
            originalQuantity: 100,
            plannedEntryPrice: 211.43083333333334,
            plannedStopPrice: 210.43083333333334,
            plannedQuantity: 100,
            side: "long",
            quantity: 0,
            id: 647,
            averageEntryPrice: 211.44083333333333,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MSFT",
                    quantity: 100,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 211.43083333333334,
                    price: 211.53083333333333,
                    t: 1597757700000,
                    estString: "2020-08-18 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 211.44083333333333,
                    status: "filled",
                },
                {
                    symbol: "MSFT",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 100,
                    t: 1597758900000,
                    estString: "2020-08-18 09:55:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 209.87,
                },
            ],
        },
        {
            symbol: "AVGO",
            originalQuantity: 100,
            plannedEntryPrice: 332.19416666666666,
            plannedStopPrice: 330.93,
            plannedQuantity: 100,
            side: "long",
            quantity: 0,
            id: 653,
            averageEntryPrice: 332.20416666666665,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "AVGO",
                    quantity: 100,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 332.19416666666666,
                    price: 332.2941666666667,
                    t: 1597757700000,
                    estString: "2020-08-18 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 332.20416666666665,
                    status: "filled",
                },
                {
                    symbol: "AVGO",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 100,
                    t: 1597758960000,
                    estString: "2020-08-18 09:56:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 330.66,
                },
            ],
        },
        {
            symbol: "NFLX",
            originalQuantity: 42,
            plannedEntryPrice: 485.4,
            plannedStopPrice: 482.87,
            plannedQuantity: 42,
            side: "long",
            quantity: 0,
            id: 682,
            averageEntryPrice: 485.40999999999997,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "NFLX",
                    quantity: 42,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 485.4,
                    price: 485.64,
                    t: 1597757700000,
                    estString: "2020-08-18 09:35:00",
                    filledQuantity: 42,
                    averagePrice: 485.40999999999997,
                    status: "filled",
                },
                {
                    symbol: "NFLX",
                    price: 492.85,
                    type: "limit",
                    side: "sell",
                    tif: "gtc",
                    quantity: 42,
                    t: 1597765200000,
                    estString: "2020-08-18 11:40:00",
                    filledQuantity: 42,
                    status: "filled",
                    averagePrice: 492.85,
                },
            ],
        },
        {
            symbol: "CRM",
            originalQuantity: 34,
            plannedEntryPrice: 202.45994444444446,
            plannedStopPrice: 199.46061111111112,
            plannedQuantity: 34,
            side: "long",
            quantity: 0,
            id: 651,
            averageEntryPrice: 202.46994444444445,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "CRM",
                    quantity: 34,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 202.45994444444446,
                    price: 202.75994444444447,
                    t: 1597757760000,
                    estString: "2020-08-18 09:36:00",
                    filledQuantity: 34,
                    averagePrice: 202.46994444444445,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 34,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "CRM",
                    t: 1597780260000,
                    estString: "2020-08-18 03:51:00",
                    filledQuantity: 34,
                    status: "filled",
                    averagePrice: 204.73,
                },
            ],
        },
        {
            symbol: "VZ",
            originalQuantity: 334,
            plannedEntryPrice: 58.93166666666667,
            plannedStopPrice: 58.631666666666675,
            plannedQuantity: 334,
            side: "long",
            quantity: 0,
            id: 675,
            averageEntryPrice: 58.94166666666667,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "VZ",
                    quantity: 334,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 58.93166666666667,
                    price: 58.94166666666667,
                    t: 1597757700000,
                    estString: "2020-08-18 09:35:00",
                    filledQuantity: 334,
                    averagePrice: 58.94166666666667,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 334,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "VZ",
                    t: 1597780260000,
                    estString: "2020-08-18 03:51:00",
                    filledQuantity: 334,
                    status: "filled",
                    averagePrice: 59.17,
                },
            ],
        },
        {
            symbol: "CVS",
            originalQuantity: 334,
            plannedEntryPrice: 65.21333333333334,
            plannedStopPrice: 64.91333333333334,
            plannedQuantity: 334,
            side: "long",
            quantity: 0,
            id: 704,
            averageEntryPrice: 65.22333333333334,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "CVS",
                    quantity: 334,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 65.21333333333334,
                    price: 65.24333333333334,
                    t: 1597757700000,
                    estString: "2020-08-18 09:35:00",
                    filledQuantity: 334,
                    averagePrice: 65.22333333333334,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 334,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "CVS",
                    t: 1597780260000,
                    estString: "2020-08-18 03:51:00",
                    filledQuantity: 334,
                    status: "filled",
                    averagePrice: 65.12,
                },
            ],
        },
        {
            symbol: "EL",
            originalQuantity: 72,
            plannedEntryPrice: 211.61353333333332,
            plannedStopPrice: 213.01113333333333,
            plannedQuantity: 72,
            side: "short",
            quantity: 0,
            id: 801,
            averageEntryPrice: 211.60353333333333,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "EL",
                    quantity: 72,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 211.61353333333332,
                    price: 211.47353333333334,
                    t: 1597844100000,
                    estString: "2020-08-19 09:35:00",
                    filledQuantity: 72,
                    averagePrice: 211.60353333333333,
                    status: "filled",
                },
                {
                    symbol: "EL",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 72,
                    t: 1597844940000,
                    estString: "2020-08-19 09:49:00",
                    filledQuantity: 72,
                    status: "filled",
                    averagePrice: 213.37,
                },
            ],
        },
        {
            symbol: "QCOM",
            originalQuantity: 109,
            plannedEntryPrice: 113.27666666666667,
            plannedStopPrice: 112.35666666666667,
            plannedQuantity: 109,
            side: "long",
            quantity: 0,
            id: 806,
            averageEntryPrice: 113.28666666666668,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "QCOM",
                    quantity: 109,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 113.27666666666667,
                    price: 113.36666666666667,
                    t: 1597844100000,
                    estString: "2020-08-19 09:35:00",
                    filledQuantity: 109,
                    averagePrice: 113.28666666666668,
                    status: "filled",
                },
                {
                    symbol: "QCOM",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 109,
                    t: 1597845120000,
                    estString: "2020-08-19 09:52:00",
                    filledQuantity: 109,
                    status: "filled",
                    averagePrice: 112.35,
                },
            ],
        },
        {
            symbol: "GS",
            originalQuantity: 100,
            plannedEntryPrice: 202.55416666666667,
            plannedStopPrice: 201.46,
            plannedQuantity: 100,
            side: "long",
            quantity: 0,
            id: 812,
            averageEntryPrice: 202.56416666666667,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "GS",
                    quantity: 100,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 202.55416666666667,
                    price: 202.62416666666667,
                    t: 1597844100000,
                    estString: "2020-08-19 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 202.56416666666667,
                    status: "filled",
                },
                {
                    symbol: "GS",
                    price: 205.94,
                    type: "limit",
                    side: "sell",
                    tif: "gtc",
                    quantity: 100,
                    t: 1597845120000,
                    estString: "2020-08-19 09:52:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 205.94,
                },
            ],
        },
        {
            symbol: "MMM",
            originalQuantity: 100,
            plannedEntryPrice: 164.46333333333334,
            plannedStopPrice: 165.53,
            plannedQuantity: 100,
            side: "short",
            quantity: 0,
            id: 805,
            averageEntryPrice: 164.45333333333335,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MMM",
                    quantity: 100,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 164.46333333333334,
                    price: 164.42333333333335,
                    t: 1597844100000,
                    estString: "2020-08-19 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 164.45333333333335,
                    status: "filled",
                },
                {
                    symbol: "MMM",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 100,
                    t: 1597845240000,
                    estString: "2020-08-19 09:54:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 165.565,
                },
            ],
        },
        {
            symbol: "JPM",
            originalQuantity: 200,
            plannedEntryPrice: 99.21118333333334,
            plannedStopPrice: 98.71118333333334,
            plannedQuantity: 200,
            side: "long",
            quantity: 0,
            id: 825,
            averageEntryPrice: 99.22118333333334,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "JPM",
                    quantity: 200,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 99.21118333333334,
                    price: 99.24118333333334,
                    t: 1597844100000,
                    estString: "2020-08-19 09:35:00",
                    filledQuantity: 200,
                    averagePrice: 99.22118333333334,
                    status: "filled",
                },
                {
                    symbol: "JPM",
                    price: 100.44,
                    type: "limit",
                    side: "sell",
                    tif: "gtc",
                    quantity: 200,
                    t: 1597845480000,
                    estString: "2020-08-19 09:58:00",
                    filledQuantity: 200,
                    status: "filled",
                    averagePrice: 100.44,
                },
            ],
        },
        {
            symbol: "DIS",
            originalQuantity: 124,
            plannedEntryPrice: 129.8275,
            plannedStopPrice: 128.97,
            plannedQuantity: 124,
            side: "long",
            quantity: 0,
            id: 839,
            averageEntryPrice: 129.83749999999998,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "DIS",
                    quantity: 124,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 129.8275,
                    price: 129.9075,
                    t: 1597844100000,
                    estString: "2020-08-19 09:35:00",
                    filledQuantity: 124,
                    averagePrice: 129.83749999999998,
                    status: "filled",
                },
                {
                    symbol: "DIS",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 124,
                    t: 1597849620000,
                    estString: "2020-08-19 11:07:00",
                    filledQuantity: 124,
                    status: "filled",
                    averagePrice: 128.89,
                },
            ],
        },
        {
            symbol: "WYNN",
            originalQuantity: 123,
            plannedEntryPrice: 82.68783333333334,
            plannedStopPrice: 81.87383333333334,
            plannedQuantity: 123,
            side: "long",
            quantity: 0,
            id: 844,
            averageEntryPrice: 82.69783333333335,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "WYNN",
                    quantity: 123,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 82.68783333333334,
                    price: 82.76783333333334,
                    t: 1597844100000,
                    estString: "2020-08-19 09:35:00",
                    filledQuantity: 123,
                    averagePrice: 82.69783333333335,
                    status: "filled",
                },
                {
                    symbol: "WYNN",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 123,
                    t: 1597852680000,
                    estString: "2020-08-19 11:58:00",
                    filledQuantity: 123,
                    status: "filled",
                    averagePrice: 81.76,
                },
            ],
        },
        {
            symbol: "CAT",
            originalQuantity: 145,
            plannedEntryPrice: 138.5575,
            plannedStopPrice: 137.8675,
            plannedQuantity: 145,
            side: "long",
            quantity: 0,
            id: 837,
            averageEntryPrice: 138.5675,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "CAT",
                    quantity: 145,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 138.5575,
                    price: 138.6275,
                    t: 1597844100000,
                    estString: "2020-08-19 09:35:00",
                    filledQuantity: 145,
                    averagePrice: 138.5675,
                    status: "filled",
                },
                {
                    symbol: "CAT",
                    price: 0,
                    type: "market",
                    side: "sell",
                    tif: "gtc",
                    quantity: 145,
                    t: 1597866120000,
                    estString: "2020-08-19 03:42:00",
                    filledQuantity: 145,
                    status: "filled",
                    averagePrice: 137.84,
                },
            ],
        },
        {
            symbol: "AVGO",
            originalQuantity: 68,
            plannedEntryPrice: 326.08666666666664,
            plannedStopPrice: 327.56666666666666,
            plannedQuantity: 68,
            side: "short",
            quantity: 0,
            id: 886,
            averageEntryPrice: 326.07666666666665,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "AVGO",
                    quantity: 68,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 326.08666666666664,
                    price: 325.93666666666667,
                    t: 1597930500000,
                    estString: "2020-08-20 09:35:00",
                    filledQuantity: 68,
                    averagePrice: 326.07666666666665,
                    status: "filled",
                },
                {
                    symbol: "AVGO",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 68,
                    t: 1597931160000,
                    estString: "2020-08-20 09:46:00",
                    filledQuantity: 68,
                    status: "filled",
                    averagePrice: 328,
                },
            ],
        },
        {
            symbol: "COST",
            originalQuantity: 90,
            plannedEntryPrice: 339.90666666666664,
            plannedStopPrice: 341.02666666666664,
            plannedQuantity: 90,
            side: "short",
            quantity: 0,
            id: 914,
            averageEntryPrice: 339.89666666666665,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "COST",
                    quantity: 90,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 339.90666666666664,
                    price: 339.7966666666666,
                    t: 1597930500000,
                    estString: "2020-08-20 09:35:00",
                    filledQuantity: 90,
                    averagePrice: 339.89666666666665,
                    status: "filled",
                },
                {
                    symbol: "COST",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 90,
                    t: 1597952460000,
                    estString: "2020-08-20 03:41:00",
                    filledQuantity: 90,
                    status: "filled",
                    averagePrice: 341.1,
                },
            ],
        },
        {
            symbol: "MMM",
            originalQuantity: 100,
            plannedEntryPrice: 163.41166666666666,
            plannedStopPrice: 162.41166666666666,
            plannedQuantity: 100,
            side: "long",
            quantity: 0,
            id: 889,
            averageEntryPrice: 163.42166666666665,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "MMM",
                    quantity: 100,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 163.41166666666666,
                    price: 163.46166666666667,
                    t: 1597930500000,
                    estString: "2020-08-20 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 163.42166666666665,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 100,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "MMM",
                    t: 1597953060000,
                    estString: "2020-08-20 03:51:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 163.6634,
                },
            ],
        },
        {
            symbol: "UNP",
            originalQuantity: 80,
            plannedEntryPrice: 189.43416666666667,
            plannedStopPrice: 188.18416666666667,
            plannedQuantity: 80,
            side: "long",
            quantity: 0,
            id: 896,
            averageEntryPrice: 189.44416666666666,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "UNP",
                    quantity: 80,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 189.43416666666667,
                    price: 189.56416666666667,
                    t: 1597930500000,
                    estString: "2020-08-20 09:35:00",
                    filledQuantity: 80,
                    averagePrice: 189.44416666666666,
                    status: "filled",
                },
                {
                    side: "sell",
                    quantity: 80,
                    type: "market",
                    price: 0,
                    tif: "day",
                    symbol: "UNP",
                    t: 1597953060000,
                    estString: "2020-08-20 03:51:00",
                    filledQuantity: 80,
                    status: "filled",
                    averagePrice: 190.27,
                },
            ],
        },
        {
            symbol: "HD",
            originalQuantity: 100,
            plannedEntryPrice: 279.38208333333336,
            plannedStopPrice: 280.55,
            plannedQuantity: 100,
            side: "short",
            quantity: 0,
            id: 978,
            averageEntryPrice: 279.37208333333336,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "HD",
                    quantity: 100,
                    side: "sell",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 279.38208333333336,
                    price: 279.31208333333336,
                    t: 1598016900000,
                    estString: "2020-08-21 09:35:00",
                    filledQuantity: 100,
                    averagePrice: 279.37208333333336,
                    status: "filled",
                },
                {
                    symbol: "HD",
                    price: 0,
                    type: "market",
                    side: "buy",
                    tif: "gtc",
                    quantity: 100,
                    t: 1598030040000,
                    estString: "2020-08-21 01:14:00",
                    filledQuantity: 100,
                    status: "filled",
                    averagePrice: 280.61,
                },
            ],
        },
        {
            symbol: "QCOM",
            originalQuantity: 143,
            plannedEntryPrice: 110.70833333333334,
            plannedStopPrice: 109.97,
            plannedQuantity: 143,
            side: "long",
            quantity: 0,
            id: 982,
            averageEntryPrice: 110.71833333333335,
            riskAtrRatio: 1,
            trades: [
                {
                    symbol: "QCOM",
                    quantity: 143,
                    side: "buy",
                    type: "stop_limit",
                    tif: "day",
                    stopPrice: 110.70833333333334,
                    price: 110.77833333333334,
                    t: 1598016900000,
                    estString: "2020-08-21 09:35:00",
                    filledQuantity: 143,
                    averagePrice: 110.71833333333335,
                    status: "filled",
                },
                {
                    symbol: "QCOM",
                    price: 112.94,
                    type: "limit",
                    side: "sell",
                    tif: "gtc",
                    quantity: 143,
                    t: 1598035560000,
                    estString: "2020-08-21 02:46:00",
                    filledQuantity: 143,
                    status: "filled",
                    averagePrice: 112.94,
                },
            ],
        },
    ] as unknown) as any;

    const performance = getDetailedPerformanceReport(positions);
    t.truthy(performance);
    t.is(Math.round(performance.summary.profit), 488);
    const dailyPerformances = performance.monthly[0].dailyPerformances;
    t.is(dailyPerformances.length, 14);

    t.is(Math.round(dailyPerformances[dailyPerformances.length - 1].profit), 194);

    const sumOfDailies = dailyPerformances.reduce((sum, val) => {
        return sum + val.profit;
    }, 0);

    t.is(Math.round(sumOfDailies), 488);
});

test("successful long trade report", (t) => {
    const position: FilledPositionConfig[] = [
        {
            symbol: "ABMD",
            originalQuantity: 1,
            id: 1,
            riskAtrRatio: 1,
            plannedEntryPrice: 218,
            plannedStopPrice: 210,
            side: PositionDirection.long,
            quantity: 0,
            trades: [
                {
                    symbol: "ABMD",
                    quantity: 1,
                    side: TradeDirection.buy,
                    type: TradeType.stop,
                    tif: TimeInForce.day,
                    price: 217.5,
                    t: 1573137360000,
                    filledQuantity: 1,
                    averagePrice: 217.59565608986355,
                    status: OrderStatus.filled,
                },
                {
                    filledQuantity: 1,
                    symbol: "ABMD",
                    averagePrice: 224.76377395381638,
                    status: OrderStatus.filled,
                    price: 224.81,
                    type: TradeType.limit,
                    side: TradeDirection.sell,
                    tif: TimeInForce.day,
                    quantity: 1,
                    t: 1573573320000,
                },
            ],
        },
    ];

    const performance = analyzeClosedPositions(position);
    t.truthy(performance);
    t.is(Math.round(performance.profit), 7);
});

test("successful long trade with partial report", (t) => {
    const position: FilledPositionConfig[] = [
        {
            symbol: "ABMD",
            originalQuantity: 5,
            id: 1,
            riskAtrRatio: 1,
            plannedEntryPrice: 218,
            plannedStopPrice: 210,
            side: PositionDirection.long,
            quantity: 0,
            trades: [
                {
                    symbol: "ABMD",
                    quantity: 5,
                    side: TradeDirection.buy,
                    type: TradeType.stop,
                    tif: TimeInForce.day,
                    price: 217.5,
                    t: 1573137360000,
                    filledQuantity: 5,
                    averagePrice: 217.59565608986355,
                    status: OrderStatus.filled,
                },
                {
                    filledQuantity: 4,
                    symbol: "ABMD",
                    averagePrice: 224.76377395381638,
                    status: OrderStatus.filled,
                    price: 224.81,
                    type: TradeType.limit,
                    side: TradeDirection.sell,
                    tif: TimeInForce.day,
                    quantity: 4,
                    t: 1573573320000,
                },
                {
                    filledQuantity: 1,
                    symbol: "ABMD",
                    averagePrice: 224.76377395381638,
                    status: OrderStatus.filled,
                    price: 224.81,
                    type: TradeType.limit,
                    side: TradeDirection.sell,
                    tif: TimeInForce.day,
                    quantity: 1,
                    t: 1573578320000,
                },
            ],
        },
    ];

    const performance = analyzeClosedPositions(position);

    t.truthy(performance);
    t.is(Math.round(performance.profit), 36);
});

test("successful long trade with failed partial report", (t) => {
    const position: FilledPositionConfig[] = [
        {
            symbol: "ABMD",
            originalQuantity: 5,
            id: 1,
            riskAtrRatio: 1,
            plannedEntryPrice: 218,
            plannedStopPrice: 210,
            side: PositionDirection.long,
            quantity: 0,
            trades: [
                {
                    symbol: "ABMD",
                    quantity: 5,
                    side: TradeDirection.buy,
                    type: TradeType.stop,
                    tif: TimeInForce.day,
                    price: 217.5,
                    t: 1573137360000,
                    filledQuantity: 5,
                    averagePrice: 217.59565608986355,
                    status: OrderStatus.filled,
                },
                {
                    filledQuantity: 4,
                    symbol: "ABMD",
                    averagePrice: 224.76377395381638,
                    status: OrderStatus.filled,
                    price: 224.81,
                    type: TradeType.limit,
                    side: TradeDirection.sell,
                    tif: TimeInForce.day,
                    quantity: 4,
                    t: 1573573320000,
                },
                {
                    filledQuantity: 1,
                    symbol: "ABMD",
                    averagePrice: 214.46377395381638,
                    status: OrderStatus.filled,
                    price: 0,
                    type: TradeType.market,
                    side: TradeDirection.sell,
                    tif: TimeInForce.day,
                    quantity: 1,
                    t: 1573578320000,
                },
            ],
        },
    ];

    const performance = analyzeClosedPositions(position);

    t.truthy(performance);
    t.is(Math.round(performance.profit), 26);
});

test("unsuccessful long trade report", (t) => {
    const position: FilledPositionConfig[] = [
        {
            symbol: "ABMD",
            originalQuantity: 1,
            id: 1,
            riskAtrRatio: 1,
            plannedEntryPrice: 218,
            plannedStopPrice: 215,
            side: PositionDirection.long,
            quantity: 0,
            trades: [
                {
                    symbol: "ABMD",
                    quantity: 1,
                    side: TradeDirection.buy,
                    type: TradeType.stop,
                    tif: TimeInForce.day,
                    price: 217.5,
                    t: 1573137360000,
                    filledQuantity: 1,
                    averagePrice: 217.59565608986355,
                    status: OrderStatus.filled,
                },
                {
                    filledQuantity: 1,
                    symbol: "ABMD",
                    averagePrice: 214.76377395381638,
                    status: OrderStatus.filled,
                    price: 214.81,
                    type: TradeType.limit,
                    side: TradeDirection.sell,
                    tif: TimeInForce.day,
                    quantity: 1,
                    t: 1573573320000,
                },
            ],
        },
    ];

    const performance = analyzeClosedPositions(position);

    t.truthy(performance);
    t.is(Math.round(performance.profit), -3);
});

test("successful short trade report", (t) => {
    const position: FilledPositionConfig[] = [
        {
            symbol: "CVS",
            originalQuantity: 3,
            id: 1,
            riskAtrRatio: 1,
            plannedEntryPrice: 58,
            plannedStopPrice: 61,
            side: PositionDirection.short,
            quantity: 0,
            trades: [
                {
                    symbol: "CVS",
                    quantity: 3,
                    side: TradeDirection.sell,
                    type: TradeType.stop,
                    tif: TimeInForce.day,
                    price: 58,
                    t: 1551710160000,
                    filledQuantity: 3,
                    averagePrice: 57.93321995517123,
                    status: OrderStatus.filled,
                },
                {
                    filledQuantity: 3,
                    symbol: "CVS",
                    averagePrice: 55.24869019424767,
                    status: OrderStatus.filled,
                    price: 55.21,
                    type: TradeType.limit,
                    side: TradeDirection.buy,
                    tif: TimeInForce.day,
                    quantity: 3,
                    t: 1553521980000,
                },
            ],
        },
    ];

    const performance = analyzeClosedPositions(position);

    t.truthy(performance);
    t.is(Math.round(performance.profit), 8);
});

test("unsuccessful short trade report", (t) => {
    const position: FilledPositionConfig[] = [
        {
            symbol: "EIX",
            originalQuantity: 5,
            id: 1,
            riskAtrRatio: 1,
            plannedEntryPrice: 66,
            plannedStopPrice: 68,
            side: PositionDirection.short,
            quantity: 0,
            trades: [
                {
                    symbol: "EIX",
                    quantity: 5,
                    side: TradeDirection.sell,
                    type: TradeType.stop,
                    tif: TimeInForce.day,
                    price: 66,
                    t: 1573050960000,
                    filledQuantity: 5,
                    averagePrice: 65.93375230001038,
                    status: OrderStatus.filled,
                },
                {
                    filledQuantity: 5,
                    symbol: "EIX",
                    averagePrice: 68.12928697299374,
                    status: OrderStatus.filled,
                    price: 0,
                    type: TradeType.market,
                    side: TradeDirection.buy,
                    tif: TimeInForce.gtc,
                    quantity: 5,
                    t: 1573661100000,
                },
            ],
        },
    ];

    const performance = analyzeClosedPositions(position);

    t.truthy(performance);
    t.is(Math.round(performance.profit), -11);
});

test("successful list of 8 positions", (t) => {
    const positions: FilledPositionConfig[] = [
        {
            symbol: "HON",
            originalQuantity: 6,
            id: 1,
            riskAtrRatio: 1,
            plannedEntryPrice: 154.5,
            plannedStopPrice: 153,
            side: PositionDirection.long,
            quantity: 0,
            trades: [
                {
                    symbol: "HON",
                    quantity: 6,
                    side: TradeDirection.buy,
                    type: TradeType.stop,
                    tif: TimeInForce.day,
                    price: 155,
                    t: 1551450960000,
                    filledQuantity: 6,
                    averagePrice: 155.077487821752,
                    status: OrderStatus.filled,
                },
                {
                    filledQuantity: 5,
                    symbol: "HON",
                    averagePrice: 156.61348740109216,
                    status: OrderStatus.filled,
                    price: 156.63,
                    type: TradeType.limit,
                    side: TradeDirection.sell,
                    tif: TimeInForce.day,
                    quantity: 5,
                    t: 1551709860000,
                },
                {
                    filledQuantity: 1,
                    symbol: "HON",
                    averagePrice: 152.9200104946864,
                    status: OrderStatus.filled,
                    price: 0,
                    type: TradeType.market,
                    side: TradeDirection.sell,
                    tif: TimeInForce.gtc,
                    quantity: 1,
                    t: 1551969660000,
                },
            ],
        },
        {
            symbol: "ECL",
            originalQuantity: 4,
            id: 1,
            riskAtrRatio: 1,
            plannedEntryPrice: 169.5,
            plannedStopPrice: 167,
            side: PositionDirection.long,
            quantity: 0,
            trades: [
                {
                    symbol: "ECL",
                    quantity: 4,
                    side: TradeDirection.buy,
                    type: TradeType.stop,
                    tif: TimeInForce.day,
                    price: 170,
                    t: 1551450960000,
                    filledQuantity: 4,
                    averagePrice: 170.0411909780172,
                    status: OrderStatus.filled,
                },
                {
                    filledQuantity: 3,
                    symbol: "ECL",
                    averagePrice: 172.35842779921867,
                    status: OrderStatus.filled,
                    price: 172.39,
                    type: TradeType.limit,
                    side: TradeDirection.sell,
                    tif: TimeInForce.day,
                    quantity: 3,
                    t: 1552483860000,
                },
                {
                    filledQuantity: 1,
                    symbol: "ECL",
                    averagePrice: 175.14075813423278,
                    status: OrderStatus.filled,
                    price: 0,
                    type: TradeType.market,
                    side: TradeDirection.sell,
                    tif: TimeInForce.gtc,
                    quantity: 1,
                    t: 1552938180000,
                },
            ],
        },
    ];
    const performance = analyzeClosedPositions(positions);

    t.is(Math.round(performance.profit), 18);
});
